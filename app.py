from flask import Flask, render_template, request, send_file, send_from_directory, url_for
import os
import PyPDF2

app = Flask(__name__)

# Folder path where PDF files are stored
pdf_folder = "pdf_files"

# Array of song names
names = ['12 4 2 4 duplicities', '500 miles high', '502 blues', '52nd street theme', 'a call for all demons', 'a child is born', 'a day in vienna', 'a family joy', 'a fine romance', 'a flower is a lonesome thing', 'a foggy day', 'a ghost of a chance', 'a night in tunisia', 'ablution', 'affirmation', 'african flower', 'afro blue', 'afternoon in paris', 'airegin', 'airmail special', 'alfies theme', 'alice in wonderland', 'all alone', 'all blues', 'all gods chillun got rhythm', 'all is fair in love', 'all my tomorrows', 'all of me', 'all of you', 'all the things you are', 'alone together', 'altoitis', 'ana maria', 'and now the queen', 'and on the third day', 'angel eyes', 'another star', 'anthropology', 'april', 'april in paris', 'april joy', 'april skies', 'arise her eyes', 'armageddon', 'around again', 'as time goes by', 'ask me now', 'au privave', 'autumn in new york', 'autumn leaves', 'avalon', 'ay arriba', 'ba lue bolivar ba lues are', 'backstage sally', 'bags and trane', 'bags groove', 'ballet', 'barbados', 'barbara', 'basin st blues', 'batterie', 'beautiful love', 'beauty and the beast', 'bebop', 'beethovens blue 3rd', 'beneath it all', 'bessies blues', 'better git it in your soul', 'bewitched', 'beyond all limits', 'big nick', 'billies bounce', 'birdland', 'birks works', 'birth of the blues', 'bitter suite in the ozone', 'black and tan fantasy', 'black diamond', 'black narcissus', 'black nile', 'black orpheus', 'blessed relief', 'bloomdido', 'blue and sentimental', 'blue bossa', 'blue comedy', 'blue in green', 'blue monk', 'blue moon', 'blue room', 'blue seven', 'blue trane', 'blues ala mode', 'blues by five', 'blues connotation', 'blues for alice', 'blues in the closet', 'bluesette', 'body and soul', 'boogie stop shuffle', 'bookers waltz', 'boplicity', 'boston marathon', 'bouncing with bud', 'brainville', 'brazilian beat', 'brians song the  hands of time', 'bright boy', 'bright moments', 'bright size life', 'brilliant corners', 'broadway blues', 'brown skin girl', 'brownout', 'budo', 'buds bubble', 'bunko', 'buster rides again', 'but beautiful', 'but not for me', 'butterfly', 'bye bye blackbird', 'c est what', 'c jam blues', 'cant we be friends', 'canyon song', 'captain marvel', 'caravan', 'careful', 'careless love', 'catch me', 'central park west', 'ceora', 'chameleon', 'chasin the train', 'cheesecake', 'chega de saudade', 'chelsea bells', 'chelsea bridge', 'cherokee', 'chicken feathers', 'childrens song', 'chippie', 'circle', 'colors of chloe', 'come rain or shine', 'come sunday', 'comin home baby', 'como en vietnam', 'con alma', 'conception', 'conference of the birds', 'confessin that i love you', 'confirmation', 'cookin', 'cool blues', 'coral', 'corcovado', 'cork n bib', 'cotton tail', 'could it be you', 'countdown', 'country roads', 'cousin mary', 'crazeology', 'crescent', 'criss cross', 'crystal silence', 'cute', 'daahoud', 'dancing on the ceiling', 'darn that dream', 'day waves', 'days and nights waiting', 'days of wine and roses', 'de pois do amor o vazio', 'dear old stockholm', 'dearly beloved', 'deep  purple', 'delores', 'deluge', 'desafinado', 'desert air', 'dewey square', 'dexterity', 'diane', 'dindi', 'django', 'do nothing till you hear from me', 'do you know what it means to miss new orleans', 'doin the pig', 'dolphine dance', 'domingo', 'domino biscuit', 'donna lee', 'dont blame me', 'dont get around much anymore', 'down for double', 'doxy', 'duff', 'early autumn', 'easy living', 'easy to love', 'ecclusiastics', 'eclypso', 'eiderdown', 'eighty one', 'einbahnstrasse', 'ek blues', 'el gaucho', 'elizete', 'elora', 'embraceable you', 'empathy', 'enchance', 'epilogue', 'epistrophy', 'equinox', 'equipoise', 'esp', 'evening in concert', 'everything i have is yours', 'exercise 3', 'exercise 6', 'eye of the hurricane', 'ezz thetic', 'fables of faubus', 'fall', 'falling grace', 'falling in love with love', 'fee fi fo fum', 'feelings and things', 'feels so good', 'first moves', 'first trip', 'five brothers', 'fivespot after dark', 'flags', 'flim flam', 'flinstones theme', 'fly by night', 'fly me to the moon', 'flying home', 'follow your heart', 'fools rush in', 'footprints', 'for heavens sake', 'for minors only', 'forest flower', 'fortune smiles', 'four', 'four brothers', 'four on six', 'four winds', 'fox hunt', 'freddie froo', 'freddie the freeloader', 'free', 'free cell block f its nazi usa', 'freedom jazz dance', 'funk dumplin', 'funky', 'games people play', 'garys waltz', 'gemini', 'general mojos well laid plan', 'gentle rain', 'gentle wind and falling fear', 'georgia', 'get out of town', 'gettin it togetha', 'giant steps', 'girl from ipanema', 'girl talk', 'glorias step', 'god bless the child', 'golden lady', 'golden notebooks', 'good bait', 'good evening mr and mrs america and all the ships at sea', 'goodbye pork pie hat', 'grand central', 'green dolphine st', 'green mountains', 'gregory is here', 'groove merchant', 'groove yard', 'groovin high', 'groovy samba', 'grow your own', 'hackensack', 'half nelson', 'hallucinaations', 'happy little sunbeam', 'harlequin', 'hassans dream', 'have you met miss jones', 'havona', 'head and shoulders', 'heaven', 'hello', 'hello young lovers', 'henniger flats', 'heres that rainy day', 'heres that sunny day', 'herzog', 'hey there', 'hi beck', 'ho ba la la', 'hocus pocus', 'hold out your hand', 'horace scope', 'horizon', 'hotel hello', 'hotel overture', 'hotel vamp', 'house of jade', 'how high the moon', 'how insensitive', 'how my heart sings', 'hullo bolinas', 'hummin', 'humpty dumpty', 'i cant get started', 'i could write a book', 'i got it bad', 'i let a song', 'i love you', 'i mean you', 'i remember clifford', 'i should care', 'icarus', 'ictus', 'ida lupino', 'if you never come to me', 'ill remember april', 'im all smiles', 'im your pal', 'impressions', 'in a mellow tone', 'in a sentimental mood', 'in your own sweet way', 'in your quiet place', 'inchworm', 'indian lady', 'inner urge', 'inside in', 'interplay', 'intrepid fox', 'invitation', 'iris', 'isnt it romantic', 'isotope', 'israel', 'it dont mean a thing', 'its a raggy waltz', 'jelly roll', 'jinrikisha', 'jordu', 'journey to recife', 'joy spring', 'ju ju', 'jump monk', 'june 15 1967', 'just friends', 'la fiesta', 'lady bird', 'lament', 'las vegas tango', 'lazybird', 'leroy the magician', 'like someone in love', 'limehouse blues', 'litha', 'little b poem', 'little niles', 'little waltz', 'liturgy', 'long ago far away', 'long as you know youre living yours', 'lonnies lament', 'look to the sky', 'looking back', 'lucky southern', 'lullaby of birdland', 'lush life', 'mahjong', 'maiden voyage', 'mallet man', 'man in the green shirt', 'may dance', 'meditation', 'memories of tomorrow', 'memphis underground', 'mevlevia', 'michelle', 'midnight mood', 'milano', 'minority', 'misty', 'miyako', 'molten glass', 'moments notice', 'montage', 'mood indigo', 'moon child', 'moon germs', 'mother of the dead man', 'mr pc', 'my favorite things', 'my foolish heart', 'my funny valentine', 'my little boat', 'my one and only love', 'my romance', 'my ship', 'mysterious traveler', 'naima', 'nardis', 'nefertiti', 'never will I marry', 'nicas dream', 'night and day', 'night dreamer', 'nimbus', 'nonsequence', 'nostalgia in times square', 'oleo', 'olhos de gato', 'once i loved', 'one finger snap', 'one note samba', 'open your eyes you can fly', 'orbits', 'ornithology', 'out of nowhere', 'passion dance', 'peace', 'peaches en regalia', 'pearlies swine', 'pee wee', 'peggys blue skylight', 'pensativa', 'pent up house', 'peris scope', 'pfrancing no blues', 'pinocchio', 'pithycanthropus erectus', 'played twice', 'portsmouth figurations', 'prelude to a kiss', 'prince of darkness', 'pussy cat dues', 'quiet now', 'recordame', 'red clay', 'reincarnation of a lovebird', 'resolution', 'round midnight', 'saga of harrison crabfeathers', 'same shame', 'satin doll', 'scotch n soda', 'scrapple from the apple', 'sea journey', 'self portrait in 3 colors', 'semblence', 'senor mouse', 'serenade to a cuckoo', 'seven come eleven', 'seven steps to heaven', 'shades of light', 'sidewinder', 'sing me softly of the blues', 'skateing in central park', 'slowly gone by gone', 'so what', 'solar', 'solitude', 'some other time', 'some skunk funk', 'someday my prince will come', 'sometime ago', 'son of mr green genes', 'song', 'song for my father', 'sophisticated lady', 'space circus part 1', 'space circus part 2', 'spain', 'speak no evil', 'spiral dance', 'spring is here', 'star crossed lovers', 'stella by starlight', 'steps', 'stolen moments', 'stompin at the savoy', 'straight no chaser', 'stuff', 'sugar', 'summer samba', 'swedish pastry', 'sweeping up', 'sweet georgia bright', 'sweet henry', 'sweet rain', 'take five', 'take the a train', 'tame thy pen', 'tell me a bedtime story', 'the chase', 'the core', 'the dolphin', 'the drive', 'the duke', 'the fields we know', 'the magician in you', 'the more i see you', 'the night has a thousand eyes', 'the raven', 'the real guitarist', 'the shadow of your smile', 'the song is you', 'the sorcerer', 'there is no greater love', 'there will never be another you', 'they cant take that away from me', 'think on me', 'three flowers', 'time remembered', 'tones for jones bones', 'tough talk', 'train samba', 'trance', 'triste', 'tune up', 'turn out the stars', 'unquity road', 'up jumped spring', 'upper manhattan medical group', 'vashkar', 'very early', 'virgo', 'wait till you see her', 'walkin', 'walter l', 'waltz', 'waltz for a lovely wife', 'waltz for debby', 'waltzin', 'wave', 'well be together again', 'well you neednt', 'west coast blues', 'what am i here for', 'what are you doing the rest of your life', 'what is this thing called love', 'what was', 'when i fall in love', 'when sunny gets blue', 'where are you', 'wildflower', 'windows', 'wings of karma', 'witch hunt', 'woody n you', 'yes or no', 'yesterday', 'yesterdays', 'you are the sunshine of my life', 'you are too beautiful', 'you dont know what love is', 'you took advantage of me']
@app.route("/", methods=["GET", "POST"])
def index():
    if request.method == "POST":
        query = request.form.get("query")
        print("Original query:", query)
        results = [name for name in names if query.lower() in name.lower()]
        print("Matching results:", results)
        return render_template("index.html", results=results, query=query)
    return render_template("index.html")

@app.route("/pdf/<name>")
def pdf(name):
    # Convert spaces to underscores in the filename
    pdf_filename = f"{name.replace(' ', '_')}.pdf"
    # Check if the PDF file exists in the pdf_files directory
    if os.path.isfile(os.path.join("pdf_files", pdf_filename)):
        return send_file(os.path.join("pdf_files", pdf_filename), mimetype='application/pdf')
    else:
        return "PDF not found"

@app.route('/')
def home():
    return render_template('index.html')

@app.route('/eflat')
def eflat():
    return render_template('eflat.html')

@app.route('/c')
def c():
    return render_template('c.html')

@app.route('/contact')
def contact():
    return render_template('contact.html')


if __name__ == "__main__":
    app.run(debug=True)
